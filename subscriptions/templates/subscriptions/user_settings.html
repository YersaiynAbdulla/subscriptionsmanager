{% extends 'base.html' %}

{% block title %}–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è{% endblock %}

{% block content %}
<h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è</h2>

<p><strong>–ò–º—è:</strong> {{ user.username }} 
  <button class="btn btn-sm btn-outline-primary" id="edit-name-btn">–ò–∑–º–µ–Ω–∏—Ç—å –Ω–∏–∫–Ω–µ–π–º</button>
</p>

<p><strong>Email:</strong> {{ user.email }}</p>

<p>
    <strong>–ü–∞—Ä–æ–ª—å:</strong>
    <a class="btn btn-sm btn-outline-secondary" href="{% url 'password_change' %}">üîí –ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å</a>
</p>

<form method="post" id="edit-form" style="display: none;">
  {% csrf_token %}
  <div class="mb-3">
    {{ form.username.label_tag }} {{ form.username }}
  </div>
  <button type="submit" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
</form>

<script>
  const editBtn = document.getElementById("edit-name-btn");
  const form = document.getElementById("edit-form");

  if (editBtn) {
    editBtn.addEventListener("click", () => {
      form.style.display = "block";
      editBtn.style.display = "none";
    });
  }
</script>
{% endblock %}
